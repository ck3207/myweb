(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d2ad664"],{1750:function(t,e,i){i("7f7f");var s=i("d257");e["a"]={mounted:function(){var t=this;Object(s["l"])((function(){t.$store.dispatch("getDataFromNative").then((function(e){console.log("唤起壳子登录之后的回调函数执行，返回 mobile",e),e&&"null"!==e&&(t.$store.dispatch("userLogin",{mobile:e}),t.init())}))}))},activated:function(){var t=this.$route.name;"liveList"!==t&&"adviserList"!==t&&this.init()}}},"728f":function(t,e,i){var s=i("a97b"),a=i.n(s);a.a},a97b:function(t,e,i){},c437:function(t,e,i){i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-container"},[i("van-pull-refresh",{staticClass:"pull-refresh-box page-content",on:{refresh:t.onRefresh},model:{value:t.isPullRefreshLoading,callback:function(e){t.isPullRefreshLoading=e},expression:"isPullRefreshLoading"}},[i("Search",{staticClass:"product-search",attrs:{historyList:t.historyList,searchFunc:t.searchProduct,searchResult:t.searchProductResult},on:{clearHistory:t.handleClearHistory},scopedSlots:t._u([{key:"search-result",fn:function(e){var s=e.resultItem;return[i("div",{staticClass:"search-result-item",on:{click:function(e){return t.handleClickProductCard(s)}}},[t._v(t._s(s.combi_name))])]}},{key:"search-history",fn:function(t){var e=t.historyItem;return[i("ProductCard",{attrs:{productData:e}})]}}])}),i("CommonTab",{staticClass:"product-tab",attrs:{tabList:t.tabList},model:{value:t.orderType,callback:function(e){t.orderType=e},expression:"orderType"}}),i("LoadMore",{ref:"myLoadMore",attrs:{bottomMethod:t.loadBottom,canInif:t.canInif,isFinal:t.isFinal}},[t._l(t.productList,(function(e,s){return t.productList.length?i("ProductCard",{key:s,attrs:{productData:e}}):t._e()})),i("NoData",{directives:[{name:"show",rawName:"v-show",value:t.showNoData,expression:"showNoData"}],staticClass:"no-data"}),t.isFinal&&!t.showNoData?i("div",{staticClass:"reach-bottom"},[t._v("已经到底了")]):t._e()],2)],1)],1)},a=[],n=(i("f751"),i("d225")),r=i("b0b4"),o=i("308d"),c=i("6bb5"),u=i("4e2b"),h=i("9ab4"),l=i("60a3"),d=i("1322"),f=i("9d59"),p=i("26b9"),b=i("a2c9"),m=i("501e"),v=i("4bb5"),y=i("de0d"),_=i("1750"),L=function(t){function e(){var t;return Object(n["a"])(this,e),t=Object(o["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.searchProductResult=[],t.historyList=[{combi_name:"组合20190825"}],t.tabList=[{name:"月收益",key:"3"},{name:"周收益",key:"2"},{name:"总收益",key:"0"},{name:"人气",key:"5"}],t.orderType="3",t.pageSize=10,t.productList=[],t.showNoData=!1,t.canInif=!0,t.isFinal=!1,t.positionStr=0,t}return Object(u["a"])(e,t),Object(r["a"])(e,[{key:"onOrderTypeChange",value:function(){this.productList=[],this.showNoData=!1,this.canInif=!1,this.isFinal=!1,this.positionStr=0,this.getProductList("")}},{key:"init",value:function(){var t=this;this.resetListData(),setTimeout((function(){t.getProductList("")}),10)}},{key:"resetListData",value:function(){this.searchProductResult=[],this.historyList=[],this.orderType="3",this.productList=[],this.showNoData=!1,this.canInif=!0,this.isFinal=!1,this.positionStr=0}},{key:"pullRefreshInit",value:function(){this.positionStr=0,this.getProductList("")}},{key:"searchProduct",value:function(t){var e=this;this.searchProductResult=[];var i={sendercomp_id:window.LOCAL_CONFIG.COMPANY_ID,combi_name:t,position_str:0,request_num:30,combi_status:0,user_token:this.userInfo.ltb_token,tenant_id:this.userInfo.tenant_id};this.$services.combineSearch({data:i}).then((function(t){var i=t.data_list||[];e.searchProductResult=i}))}},{key:"handleClearHistory",value:function(){this.historyList=[]}},{key:"getProductList",value:function(t){var e=this,i={user_token:this.userInfo.ltb_token,request_num:this.pageSize,position_str:this.positionStr,user_id:this.userInfo.user_id,broker_id:this.$route.query.brokerId||""},s={comorder_type:this.orderType,user_type:"",combine_kind:"0",tenant_key:window.LOCAL_CONFIG.TENANT_KEY,tenant_id:this.userInfo.tenant_id};this.$services.getProductList({data:Object.assign(i,s)}).then((function(i){var s=i.data_list||[];e.filterList(s,t)})).catch((function(t){console.log("getProductList"+t)}))}},{key:"filterList",value:function(t,e){t.length?(this.positionStr=t[t.length-1].position_str,t.length>=this.pageSize?(this.canInif=!0,this.isFinal=!1):(this.canInif=!1,this.isFinal=!0),this.productList=e?this.productList.concat(t):t,this.productList=this.productList.filter((function(t){return"0"===t.combi_status}))):(this.canInif=!1,this.isFinal=!0,e||(this.showNoData=!0))}},{key:"loadBottom",value:function(){var t=this;setTimeout((function(){t.getProductList("append")}),200)}},{key:"handleClickProductCard",value:function(t){this.$router.push({path:"/productDetail",query:{combineCode:t.combi_code,combineName:t.combi_name,brokerId:t.broker_id}})}}]),e}(l["c"]);Object(h["a"])([v["a"]],L.prototype,"userInfo",void 0),Object(h["a"])([Object(l["d"])("orderType")],L.prototype,"onOrderTypeChange",null),L=Object(h["a"])([Object(l["a"])({components:{ProductCard:d["a"],Search:f["a"],CommonTab:p["a"],LoadMore:b["a"],NoData:m["a"]},mixins:[_["a"],y["a"]]})],L);var k=L,g=k,I=(i("728f"),i("2877")),O=Object(I["a"])(g,s,a,!1,null,"79d6682e",null);e["default"]=O.exports},de0d:function(t,e,i){i("96cf");var s=i("3b8d"),a=i("d225"),n=i("b0b4"),r=i("308d"),o=i("6bb5"),c=i("4e2b"),u=i("9ab4"),h=i("60a3"),l=i("b3af"),d=function(t){function e(){var t;return Object(a["a"])(this,e),t=Object(r["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.isPullRefreshLoading=!1,t.pullRefreshInitTimerId=null,t}return Object(c["a"])(e,t),Object(n["a"])(e,[{key:"deactivated",value:function(){this.isPullRefreshLoading=!1,this.pullRefreshInitTimerId=null,this.$notify.clear(),clearInterval(this.pullRefreshInitTimerId)}},{key:"onRefresh",value:function(){var t=this;this.pullRefreshInitTimerId=setTimeout(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.pullRefreshInit();case 2:t.isPullRefreshLoading=!1,t.$notify({message:"数据加载成功",color:"#fff",background:"rgba(0,0,0,.5)"});case 4:case"end":return e.stop()}}),e)}))),l["e"])}}]),e}(h["c"]);d=Object(u["a"])([h["a"]],d),e["a"]=d},f6ab:function(t,e,i){t.exports=i.p+"static/img/bg_no_data.93c56ab0.png"}}]);