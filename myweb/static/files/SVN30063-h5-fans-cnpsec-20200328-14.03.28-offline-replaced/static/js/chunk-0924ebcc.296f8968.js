(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0924ebcc"],{"0a9e":function(t,e,i){},"951b":function(t,e,i){i.r(e);var c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("div",{staticClass:"page-container"},[i("div",{staticClass:"page-sign",style:{"margin-bottom":t.isMatch?"140px":""},domProps:{innerHTML:t._s(t.riskProtocol)}})]),!t.noQualification&&t.prodRiskLevel&&t.productName&&t.productId?i("div",{staticClass:"protocol-bottom-box"},[i("div",{staticClass:"top-box"},[i("van-checkbox",{attrs:{shape:"square","icon-size":16},model:{value:t.checkAgree,callback:function(e){t.checkAgree=e},expression:"checkAgree"}},[t._v("本人已阅读并同意上述协议内容")])],1),i("div",{staticClass:"btn-box"},[i("div",{staticClass:"btn btn-sure",on:{click:t.handleClickConfirm}},[t._v("同意协议")]),i("div",{staticClass:"btn btn-default",on:{click:t.handleClickCancel}},[t._v("取消")])])]):t._e()])},o=[],s=(i("c5f6"),i("d225")),r=i("b0b4"),a=i("308d"),n=i("6bb5"),u=i("4e2b"),d=i("9ab4"),l=i("60a3"),p=i("4bb5"),h=i("b3af"),k=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(a["a"])(this,Object(n["a"])(e).apply(this,arguments)),t.productType="",t.prodRiskLevel="",t.productId="",t.productName="",t.riskProtocol="",t.checkAgree=!1,t}return Object(u["a"])(e,t),Object(r["a"])(e,[{key:"activated",value:function(){var t=this.$route.query;this.productType=t.productType,this.prodRiskLevel=t.prodRiskLevel,this.productName=decodeURIComponent(t.productName),this.productId=t.productId,this.prodRiskLevel&&this.productName&&this.productId||this.$dialog.alert({title:"提示",message:"未获取到产品风险等级，需要您退出系统，再来哦",confirmButtonText:"确定",confirmButtonColor:"#E84A4D"}),this.getSignAgree()}},{key:"deactivated",value:function(){this.checkAgree=!1}},{key:"getSignAgree",value:function(){var t=this;this.$services.getSignAgree({data:{product_type:this.productType,product_id:this.productId,product_name:this.productName,agreement_type:this.isMatch?"1":this.noQualification?"4":"5",busin_account:this.userInfo.fund_account,customer_risk_level:this.riskLevelDec,product_risk_level:this.productRiskLevelDec,match_result:this.isMatch?"1":"2"}}).then((function(e){t.riskProtocol=e.content})).catch((function(e){t.$toast(e),console.log("getSignAgree error: ",e)}))}},{key:"handleClickConfirm",value:function(){this.checkAgree?this.$router.push({path:"protocolRisk",query:{productId:this.productId,productName:this.productName,productType:this.productType,matchResult:this.isMatch?"1":"2",prodRiskLevel:this.prodRiskLevel}}):this.$toast("请先阅读并同意协议")}},{key:"handleClickCancel",value:function(){this.$router.go(-1)}},{key:"riskLevelDec",get:function(){return"".concat(this.userInfo.corp_risk_name)}},{key:"productRiskLevelDec",get:function(){var t=Number(this.prodRiskLevel)-1;return"R".concat(this.prodRiskLevel,"级").concat(h["h"][t])}},{key:"noQualification",get:function(){return 1===+this.userInfo.corp_risk_level&&!this.isMatch}},{key:"isMatch",get:function(){return!!this.prodRiskLevel&&this.userInfo.corp_risk_level>=this.prodRiskLevel}}]),e}(l["c"]);Object(d["a"])([p["a"]],k.prototype,"userInfo",void 0),k=Object(d["a"])([l["a"]],k);var v=k,f=v,b=(i("dc22"),i("2877")),g=Object(b["a"])(f,c,o,!1,null,"244e2583",null);e["default"]=g.exports},dc22:function(t,e,i){var c=i("0a9e"),o=i.n(c);o.a}}]);