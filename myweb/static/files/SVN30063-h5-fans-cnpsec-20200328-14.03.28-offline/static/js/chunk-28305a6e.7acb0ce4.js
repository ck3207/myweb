(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28305a6e"],{"47c3":function(t,e,i){i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-container"},[i("van-pull-refresh",{directives:[{name:"scroll-maintain",rawName:"v-scroll-maintain"}],staticClass:"pull-refresh-box page-content",on:{refresh:t.onRefresh},model:{value:t.isPullRefreshLoading,callback:function(e){t.isPullRefreshLoading=e},expression:"isPullRefreshLoading"}},[i("LoadMore",{ref:"myLoadMore",attrs:{bottomMethod:t.loadBottom,canInif:t.canInif,isFinal:t.isFinal}},[t._l(t.productList,(function(e,n){return t.productList.length?i("ProductCard",{key:n,attrs:{productData:e}}):t._e()})),i("NoData",{directives:[{name:"show",rawName:"v-show",value:t.showNoData,expression:"showNoData"}]}),t.isFinal&&!t.showNoData?i("div",{staticClass:"reach-bottom"},[t._v("已经到底了")]):t._e()],2)],1)],1)},a=[],s=(i("96cf"),i("3b8d")),r=(i("7f7f"),i("d225")),o=i("b0b4"),c=i("308d"),u=i("6bb5"),l=i("4e2b"),f=i("9ab4"),h=i("60a3"),d=i("4bb5"),p=i("1322"),b=i("a2c9"),v=i("501e"),m=i("b3af"),L=i("de0d"),g=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(c["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.productList=[],t.positionStr=0,t.showNoData=!1,t.canInif=!1,t.isFinal=!1,t.orderType="0",t}return Object(l["a"])(e,t),Object(o["a"])(e,[{key:"beforeRouteEnter",value:function(t,e,i){i((function(t){"productDetail"!==e.name&&(t.resetListData(),t.init())}))}},{key:"activated",value:function(){this.$forceUpdate()}},{key:"beforeRouteLeave",value:function(t,e,i){"productDetail"!==t.name&&this.resetListData(),i()}},{key:"init",value:function(){var t=this;setTimeout((function(){t.getProductList("")}),200)}},{key:"resetListData",value:function(){this.productList=[],this.showNoData=!1,this.canInif=!1,this.isFinal=!1,this.positionStr=0}},{key:"pullRefreshInit",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.resetListData(),this.init();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getProductList",value:function(t){var e=this,i={user_token:this.userInfo.ltb_token,tenant_id:this.userInfo.tenant_id,request_num:m["g"],position_str:this.positionStr,user_id:this.userInfo.user_id,sendercomp_id:window.LOCAL_CONFIG.COMPANY_ID,need_user_id:"1"};this.$services.qryCombineFocusInfo({prefix:m["k"],data:i}).then((function(i){var n=i.data_list||[];e.filterList(n,t)})).catch((function(t){console.log("getProductList"+t)}))}},{key:"filterList",value:function(t,e){t.length?(this.positionStr=t[t.length-1].position_str,t.length>=m["g"]?(this.canInif=!0,this.isFinal=!1):(this.canInif=!1,this.isFinal=!0),this.productList=e?this.productList.concat(t):t,this.productList=this.productList.filter((function(t){return"0"===t.combi_status}))):(this.canInif=!1,this.isFinal=!0,e||(this.showNoData=!0))}},{key:"loadBottom",value:function(){var t=this;setTimeout((function(){t.getProductList("append")}),200)}}]),e}(h["c"]);Object(f["a"])([d["a"]],g.prototype,"userInfo",void 0),g=Object(f["a"])([Object(h["a"])({components:{LoadMore:b["a"],NoData:v["a"],ProductCard:p["a"]},mixins:[L["a"]]})],g);var I=g,w=I,_=(i("65a2"),i("2877")),k=Object(_["a"])(w,n,a,!1,null,"a1626774",null);e["default"]=k.exports},"65a2":function(t,e,i){var n=i("8cc6"),a=i.n(n);a.a},"8cc6":function(t,e,i){},de0d:function(t,e,i){i("96cf");var n=i("3b8d"),a=i("d225"),s=i("b0b4"),r=i("308d"),o=i("6bb5"),c=i("4e2b"),u=i("9ab4"),l=i("60a3"),f=i("b3af"),h=function(t){function e(){var t;return Object(a["a"])(this,e),t=Object(r["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.isPullRefreshLoading=!1,t.pullRefreshInitTimerId=null,t}return Object(c["a"])(e,t),Object(s["a"])(e,[{key:"deactivated",value:function(){this.isPullRefreshLoading=!1,this.pullRefreshInitTimerId=null,this.$notify.clear(),clearInterval(this.pullRefreshInitTimerId)}},{key:"onRefresh",value:function(){var t=this;this.pullRefreshInitTimerId=setTimeout(Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.pullRefreshInit();case 2:t.isPullRefreshLoading=!1,t.$notify({message:"数据加载成功",color:"#fff",background:"rgba(0,0,0,.5)"});case 4:case"end":return e.stop()}}),e)}))),f["e"])}}]),e}(l["c"]);h=Object(u["a"])([l["a"]],h),e["a"]=h},f6ab:function(t,e,i){t.exports=i.p+"static/img/bg_no_data.93c56ab0.png"}}]);