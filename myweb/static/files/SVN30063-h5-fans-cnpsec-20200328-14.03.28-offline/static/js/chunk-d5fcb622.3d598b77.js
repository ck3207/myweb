(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d5fcb622"],{"1a10":function(e,t,a){var i=a("7084"),n=a.n(i);n.a},"24e3":function(e,t,a){var i=a("2585"),n=a.n(i);n.a},2585:function(e,t,a){},"500f":function(e,t,a){var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"adviser-card-container",on:{click:e.handleClickAdviserCard}},[a("div",{staticClass:"adviser-card-header"},[a("img",{attrs:{src:e._f("formatImagePath")(e.adviserData.manager_avatar),alt:e.adviserData.manager_avatar},on:{error:e.shopAvatarError}}),a("b",[e._v(e._s(e.adviserData.manager_name))]),e.adviserData.brokertag_name?a("span",e._l(e.formatBrokerTags(e.adviserData.brokertag_name),(function(t){return a("em",[e._v(e._s(t))])})),0):e._e()]),a("div",{staticClass:"adviser-branch-name"},[e._v(e._s(e.adviserData.branch_name))]),a("div",{staticClass:"adviser-info-group"},[a("div",{staticClass:"adviser-info-left"},[a("span",[a("strong",{class:{up:e.adviserData.income_ratio>0,down:e.adviserData.income_ratio<0}},[e._v("\n          "+e._s(e._f("parsePercentage")(e.adviserData.income_ratio,2))),a("i",[e._v("%")])]),a("em",[e._v(e._s(e.incomeTypeText))])]),a("span",[a("strong",{staticClass:"up"},[e._v(e._s(e.adviserData.follow_num)),a("i",[e._v("人")])]),a("em",[e._v("关注人数")])])]),a("div",{staticClass:"adviser-info-right"},[a("strong",{class:{ordered:1===+e.adviserData.follow_type},on:{click:function(t){return t.target!==t.currentTarget?null:(t.stopPropagation(),e.handleClickAdviserFollow(t))}}},[e._v("\n        "+e._s(1===+e.adviserData.follow_type?"已关注":"+关注")+"\n      ")])])])])},n=[],r=a("d225"),s=a("b0b4"),o=a("308d"),c=a("6bb5"),l=a("4e2b"),d=a("9ab4"),u=a("60a3"),v=a("4bb5"),f=a("d257"),h=function(e){function t(){return Object(r["a"])(this,t),Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),Object(s["a"])(t,[{key:"handleClickAdviserCard",value:function(){this.$router.push({path:"/adviserDetail",query:{brokerId:this.adviserData.broker_id,brokerKey:this.adviserData.broker_key}})}},{key:"handleClickAdviserFollow",value:function(){var e=this;this.isLogin?1===+this.adviserData.follow_type?this.$services.setAdviserFollowCancel({data:{user_token:this.stuToken,access_token:this.accessToken,broker_id:this.adviserData.broker_id}}).then((function(t){"0"===t.error_no&&(e.adviserData.follow_type=2,e.adviserData.follow_num=+e.adviserData.follow_num-1)})):this.$services.setAdviserFollow({data:{user_token:this.stuToken,access_token:this.accessToken,broker_id:this.adviserData.broker_id}}).then((function(t){"0"===t.error_no&&(e.adviserData.follow_type=1,e.adviserData.follow_num=+e.adviserData.follow_num+1)})):this.$store.dispatch("nativeMobileLogin")}},{key:"formatBrokerTags",value:function(e){return Object(f["f"])(e)}},{key:"incomeTypeText",get:function(){var e={0:"总收益",7:"总收益",4:"年收益",3:"月收益",2:"周收益"};return e[this.incomeType]}}]),t}(u["c"]);Object(d["a"])([Object(u["b"])({type:Object,default:function(){return{}}})],h.prototype,"adviserData",void 0),Object(d["a"])([Object(u["b"])({type:String,default:function(){return"7"}})],h.prototype,"incomeType",void 0),Object(d["a"])([v["a"]],h.prototype,"isLogin",void 0),Object(d["a"])([v["a"]],h.prototype,"stuToken",void 0),Object(d["a"])([v["a"]],h.prototype,"accessToken",void 0),h=Object(d["a"])([u["a"]],h);var b=h,p=b,_=(a("24e3"),a("2877")),g=Object(_["a"])(p,i,n,!1,null,"62935ba3",null);t["a"]=g.exports},7084:function(e,t,a){},d588:function(e,t,a){a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("van-pull-refresh",{directives:[{name:"scroll-maintain",rawName:"v-scroll-maintain"}],staticClass:"pull-refresh-box page-content",on:{refresh:e.onRefresh},model:{value:e.isPullRefreshLoading,callback:function(t){e.isPullRefreshLoading=t},expression:"isPullRefreshLoading"}},[a("LoadMore",{attrs:{bottomMethod:e.loadBottom,canInif:e.canInif,isFinal:!e.canInif}},[e._l(e.adviserList,(function(e,t){return a("AdviserCard",{key:t,attrs:{adviserData:e}})})),!e.loading&&e.noDataFlag?a("NoData"):e._e(),e.canInif||e.noDataFlag?e._e():a("div",{staticClass:"reach-bottom"},[e._v("已经到底了")])],2)],1)],1)},n=[],r=(a("96cf"),a("3b8d")),s=(a("7f7f"),a("d225")),o=a("b0b4"),c=a("308d"),l=a("6bb5"),d=a("4e2b"),u=a("9ab4"),v=a("60a3"),f=a("500f"),h=a("a2c9"),b=a("501e"),p=a("4bb5"),_=a("de0d"),g=20,m=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.positionStr=0,e.adviserList=[],e.loading=!0,e.canInif=!0,e}return Object(d["a"])(t,e),Object(o["a"])(t,[{key:"beforeRouteEnter",value:function(e,t,a){a((function(e){"adviserDetail"!==t.name&&e.getSelfFollowAdvisers().then((function(t){e.adviserList=t,e.updateListState(t)}))}))}},{key:"activated",value:function(){this.$forceUpdate()}},{key:"beforeRouteLeave",value:function(e,t,a){"adviserDetail"!==e.name&&(this.positionStr=0,this.adviserList=[],this.loading=!0,this.canInif=!0),a()}},{key:"pullRefreshInit",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.positionStr=0,this.getSelfFollowAdvisers().then((function(e){t.adviserList=e,t.updateListState(e)}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadBottom",value:function(){var e=this;this.getSelfFollowAdvisers().then((function(t){e.adviserList=e.adviserList.concat(t),e.updateListState(t)}))}},{key:"getSelfFollowAdvisers",value:function(){var e=this;return this.loading=!0,this.$services.getAdviserList({data:{tenant_key:window.LOCAL_CONFIG.TENANT_KEY,request_num:g,position_str:this.positionStr,follow_type:1,sort_type:"1",extend_type:0,tenant_id:this.userInfo.tenant_id}}).then((function(t){return e.loading=!1,t.data_list||[]})).catch((function(t){e.adviserList=[],e.loading=!1,console.log("getSelfFollowAdvisers error: ",t)}))}},{key:"updateListState",value:function(e){e.length&&(this.positionStr=e[e.length-1].position_str),e.length<g&&(this.canInif=!1)}},{key:"noDataFlag",get:function(){return Array.isArray(this.adviserList)&&0===this.adviserList.length}}]),t}(v["c"]);Object(u["a"])([p["a"]],m.prototype,"userInfo",void 0),m=Object(u["a"])([Object(v["a"])({components:{AdviserCard:f["a"],LoadMore:h["a"],NoData:b["a"]},mixins:[_["a"]]})],m);var k=m,y=k,w=(a("1a10"),a("2877")),O=Object(w["a"])(y,i,n,!1,null,"67285907",null);t["default"]=O.exports},de0d:function(e,t,a){a("96cf");var i=a("3b8d"),n=a("d225"),r=a("b0b4"),s=a("308d"),o=a("6bb5"),c=a("4e2b"),l=a("9ab4"),d=a("60a3"),u=a("b3af"),v=function(e){function t(){var e;return Object(n["a"])(this,t),e=Object(s["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.isPullRefreshLoading=!1,e.pullRefreshInitTimerId=null,e}return Object(c["a"])(t,e),Object(r["a"])(t,[{key:"deactivated",value:function(){this.isPullRefreshLoading=!1,this.pullRefreshInitTimerId=null,this.$notify.clear(),clearInterval(this.pullRefreshInitTimerId)}},{key:"onRefresh",value:function(){var e=this;this.pullRefreshInitTimerId=setTimeout(Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.pullRefreshInit();case 2:e.isPullRefreshLoading=!1,e.$notify({message:"数据加载成功",color:"#fff",background:"rgba(0,0,0,.5)"});case 4:case"end":return t.stop()}}),t)}))),u["e"])}}]),t}(d["c"]);v=Object(l["a"])([d["a"]],v),t["a"]=v},f6ab:function(e,t,a){e.exports=a.p+"static/img/bg_no_data.93c56ab0.png"}}]);