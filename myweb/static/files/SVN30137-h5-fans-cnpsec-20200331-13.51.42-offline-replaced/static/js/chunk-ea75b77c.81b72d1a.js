(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ea75b77c"],{"20fd":function(t,e,o){var n=o("d9f6"),i=o("aebd");t.exports=function(t,e,o){e in t?n.f(t,e,i(0,o)):t[e]=o}},"246a":function(t,e,o){o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"com-realtime"},[o("div",{directives:[{name:"show",rawName:"v-show",value:"1"===t.liveInfo.roomStatus,expression:"liveInfo.roomStatus === '1'"}],staticClass:"topic-info"},[o("div",{staticClass:"cent title"},[t._v("当前话题: "+t._s(t.liveInfo.chatTopic))]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.liveInfo.onlineNum>=100,expression:"liveInfo.onlineNum >= 100"}],staticClass:"cent people"},[o("i",{staticClass:"icon iconfont-cnpsec iconfont-hot"}),t._v(t._s(t.liveInfo.onlineNum)+"人\n    ")])]),o("div",{staticClass:"live-scroll-box"},[o("BsLoadMore",{ref:"pageLoadMore",attrs:{canLoad:t.canLoad},on:{loadMore:t.loadHistory,bsScroll:t.pageScroll}},t._l(t.rollingMsg,(function(e,n){return t.rollingMsg.length?o("div",{key:n,ref:"baseDom",refInFor:!0},[o("MessageCard",{attrs:{message:e}})],1):t._e()})),0)],1),o("div",{staticClass:"risk-tips"},[t._v("\n    【风险提示】以上内容仅供参考，不构成投资建议，亦不作为投资决策依据。股市有风险，入市需谨慎。\n  ")]),o("div",{staticClass:"income-message",class:{active:t.messageCome&&!t.isScrollBottom},on:{click:t.scrollToPageBottom}},[t._v("收到新消息\n  ")])])},i=[],s=(o("8e6e"),o("ac6a"),o("cadf"),o("456d"),o("75fc")),r=(o("e7e5"),o("d399")),a=o("bd86"),c=o("1a60"),l=o("cc64"),f=o("2f62"),u=o("310a");function h(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function g(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?h(Object(o),!0).forEach((function(e){Object(a["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var m={components:{BsLoadMore:c["a"],MessageCard:l["a"]},data:function(){return{interval:null,canLoad:"",showNoData:!1,positionStr:0,requestNum:20,messageCome:!1,isScrollBottom:!0,lastStr:0}},computed:g({},Object(f["c"])(["liveInfo","rollingMsg","rollingMsgCome"])),watch:{rollingMsgCome:function(){this.messageCome=!0}},activated:function(){this.interval=null,this.canLoad="",this.showNoData=!1,this.positionStr=0,this.messageCome=!1,this.isScrollBottom=!0,this.$store.commit("SET_ROLLING_MSG",[]),this.getHistoryRealTimeMsg()},deactivated:function(){clearInterval(this.interval)},methods:{getHistoryRealTimeMsg:function(t,e){var o=this;Object(u["j"])(this.positionStr,this.requestNum).then((function(n){!t&&n.length&&(o.lastStr=n[0].position_str),o.positionStr=n.length&&n[n.length-1].position_str,t?o.fixLoadData(Object(u["b"])(n),t,e):o.fixLoadData(Object(u["b"])(n.reverse()),t,e)})).catch((function(e){r["a"].fail(e),console.log("getHistoryRealTimeMsg"+e),t||(o.canLoad=!1,o.showNoData=!0)}))},fixLoadData:function(t,e,o){var n=this;if(t.length>=this.requestNum?this.canLoad=!0:this.canLoad=!1,e){var i=Object(s["a"])(this.rollingMsg);t.map((function(t){i.unshift(t)})),this.$store.commit("SET_ROLLING_MSG",i),this.$nextTick((function(){var e=n.fixLoadDataHeight(t.length);"function"===typeof o&&o(e)}))}else this.$store.commit("SET_ROLLING_MSG",t),t.length?setTimeout((function(){n.$refs.pageLoadMore.scrollBottom()}),300):this.showNoData=!0;this.interval||(this.interval=setInterval(this.getNewRollingMsg,6e4))},fixLoadDataHeight:function(t){for(var e=0,o=0;o<t;o++)e+=this.$refs.baseDom[o].clientHeight;return e},loadHistory:function(t){this.getHistoryRealTimeMsg("append",t)},pageScroll:function(t,e){t<e?this.isScrollBottom=!1:(this.isScrollBottom=!0,this.messageCome=!1)},scrollToPageBottom:function(){this.$refs.pageLoadMore.scrollBottom(),this.messageCome=!1},getNewRollingMsg:function(){var t=this;Object(u["j"])(this.lastStr,50,1).then((function(e){if(e.length){t.lastStr=e[0].position_str;var o=Object(u["b"])(e.reverse()),n=Object(s["a"])(t.rollingMsg);t.$store.commit("SET_ROLLING_MSG",n.concat(o));var i=t.rollingMsgCome+1;t.$store.commit("SET_ROLLING_MSG_COME",i)}})).catch((function(t){console.log("查询最新")}))}}},d=m,v=(o("b442"),o("2877")),p=Object(v["a"])(d,n,i,!1,null,"27c5be44",null);e["default"]=p.exports},"549b":function(t,e,o){var n=o("d864"),i=o("63b6"),s=o("241e"),r=o("b0dc"),a=o("3702"),c=o("b447"),l=o("20fd"),f=o("7cd6");i(i.S+i.F*!o("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,o,i,u,h=s(t),g="function"==typeof this?this:Array,m=arguments.length,d=m>1?arguments[1]:void 0,v=void 0!==d,p=0,b=f(h);if(v&&(d=n(d,m>2?arguments[2]:void 0,2)),void 0==b||g==Array&&a(b))for(e=c(h.length),o=new g(e);e>p;p++)l(o,p,v?d(h[p],p):h[p]);else for(u=b.call(h),o=new g;!(i=u.next()).done;p++)l(o,p,v?r(u,d,[i.value,p],!0):i.value);return o.length=p,o}})},"75fc":function(t,e,o){var n=o("a745"),i=o.n(n);function s(t){if(i()(t)){for(var e=0,o=new Array(t.length);e<t.length;e++)o[e]=t[e];return o}}var r=o("774e"),a=o.n(r),c=o("c8bb"),l=o.n(c);function f(t){if(l()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return a()(t)}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function h(t){return s(t)||f(t)||u()}o.d(e,"a",(function(){return h}))},"774e":function(t,e,o){t.exports=o("d2d5")},"7fa6":function(t,e,o){},b442:function(t,e,o){var n=o("7fa6"),i=o.n(n);i.a},d2d5:function(t,e,o){o("1654"),o("549b"),t.exports=o("584a").Array.from}}]);