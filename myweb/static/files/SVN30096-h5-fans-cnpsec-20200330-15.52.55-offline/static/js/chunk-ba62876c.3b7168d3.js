(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ba62876c"],{"1f99":function(t,e,a){},"3d9e":function(t,e,a){a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"com-history-interactive"},[a("div",{staticClass:"live-scroll-box"},[a("BsLoadMore",{ref:"pageLoadMore",attrs:{canLoad:t.canLoad},on:{loadMore:t.loadMore}},t._l(t.historyList,(function(e,o){return t.historyList.length?a("div",{key:o,ref:"baseDom",refInFor:!0},[a("MessageBubble",{attrs:{message:e,brokerName:t.liveInfo.brokerName}})],1):t._e()})),0)],1)])},i=[],n=(a("8e6e"),a("cadf"),a("456d"),a("ac6a"),a("e7e5"),a("d399")),r=a("bd86"),s=a("e8b7"),c=a("1a60"),f=a("310a"),h=a("2f62");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={components:{MessageBubble:s["a"],BsLoadMore:c["a"]},data:function(){return{canLoad:"",historyList:[],showNoData:!1,lastSize:0,pageNo:1,pageSize:20}},computed:l({},Object(h["c"])(["liveInfo"])),activated:function(){this.canLoad="",this.historyList=[],this.showNoData=!1,this.lastSize=0,this.pageNo=1,this.initData()},methods:{initData:function(){this.getHistoryInteractiveMsg()},getHistoryInteractiveMsg:function(t,e){var a=this;Object(f["l"])(this.pageNo,this.pageSize).then((function(o){var i=o.result,n=o.totalNum;a.lastSize+=i.length,t?a.fixLoadData(Object(f["a"])(i),t,n,e):a.fixLoadData(Object(f["a"])(i.reverse()),t,n,e)})).catch((function(t){n["a"].fail(t),console.log("getHistoryInteractiveMsg"+t),a.canLoad=!1}))},fixLoadData:function(t,e,a,o){var i=this;this.lastSize>=a?this.canLoad=!1:this.canLoad=!0,e?(t.forEach((function(t){i.historyList.unshift(t)})),this.$nextTick((function(){var e=i.fixLoadDataHeight(t.length);"function"===typeof o&&o(e)}))):(this.historyList=t,t.length?setTimeout((function(){i.$refs.pageLoadMore.scrollBottom()}),300):this.showNoData=!0)},fixLoadDataHeight:function(t){for(var e=0,a=0;a<t;a++)e+=this.$refs.baseDom[a].clientHeight;return e},loadMore:function(t){this.pageNo++,this.getHistoryInteractiveMsg("append",t)}}},b=d,g=(a("8a4b"),a("2877")),p=Object(g["a"])(b,o,i,!1,null,"3907c69d",null);e["default"]=p.exports},"8a4b":function(t,e,a){var o=a("1f99"),i=a.n(o);i.a}}]);