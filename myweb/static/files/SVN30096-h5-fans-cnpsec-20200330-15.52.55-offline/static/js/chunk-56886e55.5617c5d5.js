(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56886e55"],{"88cc":function(t,i,s){var e=s("fe5a"),a=s.n(e);a.a},f6ab:function(t,i,s){t.exports=s.p+"static/img/bg_no_data.93c56ab0.png"},fb85:function(t,i,s){s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"com-review-list"},[s("div",{staticClass:"list-inner"},[s("LoadMore",{ref:"myLoadMore",attrs:{bottomMethod:t.loadBottom,canInif:t.canInif,isFinal:t.isFinal}},[t.historyList.length?s("ul",{staticClass:"line-container"},t._l(t.historyList,(function(i,e){return s("li",{key:e,staticClass:"line-item"},[s("div",{staticClass:"item-tag",domProps:{innerHTML:t._s(t.formatMD(i.day))}}),s("div",{staticClass:"item-symbol"},[s("div",{staticClass:"item-circle"})]),s("div",{staticClass:"item-content"},t._l(i.lives,(function(i){return s("div",{key:i.topic_id,staticClass:"live-card",on:{click:function(s){return t.itemClick(i)}}},[s("div",{staticClass:"live-header"},[s("span",{staticClass:"name"},[t._v(t._s(t.liveData.brokerName)+"的直播室")]),s("span",{staticClass:"live-state-sign",class:{living:"1"==i.room_status}},[t._v("\n          "+t._s("1"==i.room_status?"直播中":"看回放")+"\n        ")])]),s("div",{staticClass:"topic"},[t._v(t._s(i.topic_title))]),s("div",{staticClass:"foot"},[s("span",{staticClass:"live-time"},[t._v(t._s(t._f("formatTime")(i.start_time,"HH:mm")))])])])})),0)])})),0):t._e(),s("NoData",{directives:[{name:"show",rawName:"v-show",value:t.showNoData,expression:"showNoData"}]}),t.isFinal&&!t.showNoData?s("div",{staticClass:"reach-bottom"},[t._v("已经到底了")]):t._e()],1)],1)])},a=[],o=s("a2c9"),r=s("501e"),n=s("b3af"),c={components:{LoadMore:o["a"],NoData:r["a"]},data:function(){return{liveData:{brokerName:"",brokerAvatar:""},historyList:[],month:"",day:"",showNoData:!1,canInif:!1,isFinal:!1,pageNo:1,requestNum:20}},activated:function(){this.init()},methods:{init:function(){this.liveData={brokerName:"",brokerAvatar:""},this.historyList=[],this.showNoData=!1,this.canInif=!0,this.isFinal=!1,this.pageNo=1,this.getHistoryLiveList("")},formatMD:function(t){if(t&&"string"===typeof t&&8===t.length){var i=t.substring(4,6),s=t.substring(6);return"<span>".concat(n["a"][parseInt(i,10)-1],"</span><em>").concat(s,"</em>")}return"<span>--</span><em>--</em>"},getHistoryLiveList:function(t){var i=this;this.$services.getHistoryLiveInvestList({data:{filtration_type:0,broker_key:this.$route.query.brokerKey,page_no:this.pageNo,page_size:this.requestNum}}).then((function(s){console.log("res",s),i.liveData.brokerName=s.broker_name,i.liveData.brokerAvatar=s.broker_avatar,i.filterList(s.day_live||[],t)})).catch((function(t){console.log("getHistoryLiveList"+t),i.canInif=!1,i.isFinal=!0,i.showNoData=!1}))},filterList:function(t,i){console.log(t.length),t.length?(t.length>=this.requestNum?(this.canInif=!0,this.isFinal=!1):(this.canInif=!1,this.isFinal=!0,this.showNoData=!1),this.historyList=i?this.historyList.concat(t):t):(this.canInif=!1,this.isFinal=!0,i||(this.showNoData=!0))},loadBottom:function(){var t=this;this.pageNo++,setTimeout((function(){t.getHistoryLiveList("append")}),200)},itemClick:function(t){if(this.$store.getters.isLogin)if("1"===t.room_status)this.$router.push({path:"/live",query:{brokerId:this.$route.query.brokerId,topicId:t.topic_id}});else{var i={brokerKey:this.$route.query.brokerKey,brokerId:this.$route.query.brokerId,brokerName:this.liveData.brokerName,brokerAvatar:this.liveData.brokerAvatar,topicId:t.topic_id,chatTopic:t.topic_title,onlineNum:t.online_num||0,startTime:t.start_time};this.$router.push({path:"/reviewDetail",query:i})}else this.$store.dispatch("nativeMobileLogin")}}},l=c,h=(s("88cc"),s("2877")),u=Object(h["a"])(l,e,a,!1,null,"53e798e0",null);i["default"]=u.exports},fe5a:function(t,i,s){}}]);